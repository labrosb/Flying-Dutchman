function msg(t){function e(){o||(f.css({opacity:0,top:S-50,left:N}),x.css({opacity:t.opacity}),t.beforeShow(),x.css({width:$(document).width(),height:i()}),$(r+","+h).fadeIn(0),f.animate({opacity:1,top:S,left:N},200),setTimeout(t.afterShow,200),o=!0,$(window).bind("resize",function(t){var e=f.width(),n=f.height(),i=$(window).height(),a=$(window).width(),o=i/2-n/2,s=a/2-e/2;f.css({top:o,left:s})}))}function n(){o&&(t.beforeClose(),f.animate({opacity:0,top:S-50,left:N},200),x.fadeOut(300),setTimeout(function(){f.remove(),x.remove()},300),setTimeout(t.afterClose,300),o=!1)}function i(){var t=document;return Math.max(Math.max(t.body.scrollHeight,t.documentElement.scrollHeight),Math.max(t.body.offsetHeight,t.documentElement.offsetHeight),Math.max(t.body.clientHeight,t.documentElement.clientHeight))}function a(){f.fadeOut(200).fadeIn(200)}var o=!1,s=typeof t,l={content:"string"==s?t:"Message",title:"Warning",type:"alert",autoClose:!1,timeOut:0,showButtons:!0,buttons:[{value:"Ok"}],inputs:[{type:"text",name:"userName",header:"User Name"},{type:"password",name:"password",header:"Password"}],success:function(t){},beforeShow:function(){},afterShow:function(){},beforeClose:function(){},afterClose:function(){},opacity:.1};if(t="string"==s?l:t,null!=t.type)switch(t.type){case"alert":t.title=null==t.title?"Warning":t.title;break;case"info":t.title=null==t.title?"Information":t.title;break;case"error":t.title=null==t.title?"Error":t.title;break;case"confirm":t.title=null==t.title?"Confirmation":t.title,t.buttons=null==t.buttons?[{value:"Yes"},{value:"No"},{value:"Cancel"}]:t.buttons;break;case"prompt":t.title=null==t.title?"Log In":t.title,t.buttons=null==t.buttons?[{value:"Login"},{value:"Cancel"}]:t.buttons;break;default:u="alert.png"}t.timeOut=null==t.timeOut?null==t.content?500:70*t.content.length:t.timeOut,t=$.extend(l,t),t.autoClose&&setTimeout(n,t.timeOut);var u="";switch(t.type){case"alert":u="alert.png";break;case"info":u="info.png";break;case"error":u="error.png";break;case"confirm":u="confirm.png";break;default:u="alert.png"}var c="msgBox"+(new Date).getTime(),r=c,d=c+"Content",m=c+"Image",p=c+"Buttons",h=c+"BackGround",v="";$(t.buttons).each(function(t,e){v+='<input class="msgButton" type="button" name="'+e.value+'" value="'+e.value+'" />'});var g="";$(t.inputs).each(function(t,e){var n=e.type;g+="checkbox"==n||"radiobutton"==n?'<div class="msgInput"><input type="'+e.type+'" name="'+e.name+'" '+(null==e.checked?"":"checked ='"+e.checked+"'")+' value="'+("undefined"==typeof e.value?"":e.value)+'" /><text>'+e.header+"</text></div>":'<div class="msgInput"><span class="msgInputHeader">'+e.header+'<span><input type="'+e.type+'" name="'+e.name+'" value="'+("undefined"==typeof e.value?"":e.value)+'" /></div>'});var f,w,b,y,x,B="<div id="+h+' class="msgBoxBackGround"></div>',k='<div class="msgBoxTitle">'+t.title+"</div>",C='<div class="msgBoxContainer"><div id='+m+' class="msgBoxImage"><img src="'+msgBoxImagePath+u+'"/></div><div id='+d+' class="msgBoxContent"><p><span>'+t.content+"</span></p></div></div>",I="<div id="+p+' class="msgBoxButtons">'+v+"</div>",O='<div class="msgBoxInputs">'+g+"</div>";"prompt"==t.type?($("html").append(B+"<div id="+r+' class="msgBox">'+k+"<div>"+C+(t.showButtons?I+"</div>":"</div>")+"</div>"),f=$("#"+r),w=$("#"+d),b=$("#"+m),y=$("#"+p),x=$("#"+h),b.remove(),y.css({"text-align":"center","margin-top":"5px"}),w.css({width:"100%",height:"100%"}),w.html(O)):($("html").append(B+"<div id="+r+' class="msgBox">'+k+"<div>"+C+(t.showButtons?I+"</div>":"</div>")+"</div>"),f=$("#"+r),w=$("#"+d),b=$("#"+m),y=$("#"+p),x=$("#"+h));var H=f.width(),T=f.height(),M=$(window).height(),E=$(window).width(),S=M/2-T/2,N=E/2-H/2;e(),$("input.msgButton").click(function(e){e.preventDefault();var i=$(this).val();if("prompt"!=t.type)t.success(i);else{var a=[];$("div.msgInput input").each(function(t,e){var n=$(this).attr("name"),i=$(this).val(),o=$(this).attr("type");"checkbox"==o||"radiobutton"==o?a.push({name:n,value:i,checked:$(this).attr("checked")}):a.push({name:n,value:i})}),t.success(i,a)}n()}),x.click(function(e){!t.showButtons||t.autoClose?n():a()})}var msgBoxImagePath="view/styles/msgBox/";jQuery.msgBox=msg;